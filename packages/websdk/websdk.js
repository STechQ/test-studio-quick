!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.websdk=t():e.websdk=t()}(this,(()=>(()=>{"use strict";var __webpack_modules__={60035:(e,t,n)=>{n.d(t,{k:()=>g});var r=n(62190),o=n(56303),i=n(67642),s=n(67359),a=n(56446),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},l=function(){function e(e){var t=e.moduleManager;this.moduleManager=t}return e.prototype.collectQJson=function(e,t,n,o,s,l){var p=this,d=[],f=n.GetEditMode(),g=l.qLang,h=l.level,v=void 0===h?0:h,b=function(e){e&&e.forEach((function(e){return u(p,void 0,void 0,(function(){var t,r,s,u,l;return c(this,(function(c){if(!e)return[2];switch(e.T){case a.h.customComponent.name:case a.h.renderingComponent.name:(t=n.Evaluate({script:null===(l=e.P[a.h.customComponent.props.qjsonPath])||void 0===l?void 0:l.H,response:null,lang:i.i.getLang({ctrl:e,qLang:g})}))&&d.push({type:"qjson",qProm:o(t),qJsonPath:t,subPromiseList:[]});break;case a.h.messaging.name:if(f)break;r=e.P[a.h.messaging.props.masterPath],(s=r&&n.Evaluate({script:r.H,response:null,lang:i.i.getLang({ctrl:e,qLang:g})}))&&d.push({type:"masterPage",qProm:o(s),qJsonPath:s,subPromiseList:[]});break;default:(u=this.moduleManager.CheckComponent(e.T,e.CP))&&d.push({type:"domainComp",prom:u,compPath:e.CP,compName:e.T,subPromiseList:[]})}return e.C&&Object.keys(e.C).forEach((function(t){return b(e.C[t].c)})),[2]}))}))}))};return b(e.cJson),new Promise((function(i,a){return u(p,void 0,void 0,(function(){function l(){0!=v||!p||f?i(h):a(new Error("Not implemented: Navigating from a page with a masterPage to a page with no masterPage"))}var p,f,h,b,y,m,_=this;return c(this,(function(i){switch(i.label){case 0:return p=null===(m=null===(y=null==s?void 0:s.GetLastHistory())||void 0===y?void 0:y.masterData)||void 0===m?void 0:m.path,f=!1,h={qjson:e},b=0,d.length?[4,Promise.all(d.map((function(e){return u(_,void 0,void 0,(function(){var i,a,u,y;return c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,6,7]),"domainComp"!=e.type?[3,2]:[4,e.prom];case 1:return c.sent(),[2];case 2:return[4,e.qProm];case 3:return i=c.sent(),"masterPage"==e.type&&(f=!0)&&(h=this.handleMasterPage(i,e.qJsonPath,t,p)||h),[4,this.collectQJson(i,e.qJsonPath,n,o,s,{qLang:g,level:v+1})];case 4:return c.sent(),[3,7];case 5:return a=c.sent(),u="domainComp"!=e.type?e.qJsonPath:e.compName+(e.compPath?" "+e.compPath:""),y="Error on collectQJson "+e.type+": "+u+": "+a.message,r.Y.Log({logMessage:y,error:a,logType:r.h.Error}),[3,7];case 6:return++b===d.length&&l(),[7];case 7:return[2]}}))}))})))]:(l(),[2]);case 1:return i.sent(),l(),[2]}}))}))}))},e.prototype.handleMasterPage=function(e,t,n,o){if(o!=t){if(o&&o!=t)throw new Error("Not implemented: Navigating from a page with a masterPage to a page with a different masterPage");var i=structuredClone(e),u=s.C.findComponentByType(i.cJson,a.h.renderingComponent.name);if(u){if(n)return u.P.QJsonPath={H:"╬'"+n+"'╩╩",T:"prop",HL:"QS"},{qjson:i,changedPath:t};r.Y.Log({logMessage:"page has a masterPage, but does not know self path",logType:r.h.Warning})}else r.Y.Log({logMessage:"page had masterPage but masterPage does not have RenderingComponent",logType:r.h.Warning})}else r.Y.Log({logMessage:"page has masterPage but previous page had the same master, so pass",logType:r.h.Trace})},e}(),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function f(e){var t=this;return function(r){return p(t,void 0,void 0,(function(){var t;return d(this,(function(o){switch(o.label){case 0:return[4,n.e(4908).then(n.bind(n,84908))];case 1:return t=o.sent(),Object.keys(t).forEach((function(e){return r[e]=t[e]})),[2,t[e]]}}))}))}}var g=function(){function e(t){var n=t.qjsonRetriever,r=t.moduleManager;this.contextName=e.contextName,this.qJsonPool={},this.qjsonRetriever=n,this.moduleManager=r,this.qjsonCollector=new l({moduleManager:r}),this.ResetPool()}return e.prototype.ResetPool=function(){var e=this;this.qJsonPool={get"qjson://QLegend"(){return f("QLegend")(e.qJsonPool)},get"qjson://QCaptcha"(){return f("QCaptcha")(e.qJsonPool)},get"qjson://QDynamicFields"(){return f("QDynamicFields")(e.qJsonPool)},get"qjson://QQRCode"(){return f("QQRCode")(e.qJsonPool)}}},Object.defineProperty(e.prototype,"ModuleManager",{get:function(){return this.moduleManager},enumerable:!1,configurable:!0}),e.prototype.retrieveAndFillQjsonAsync=function(e){var t,n=e.qjson,i=e.dory,s=e.doryJr;return p(this,void 0,void 0,(function(){var e,a,u,c,l,f,g;return d(this,(function(h){switch(h.label){case 0:return e=this,a=n,u=function(e){return p(this,void 0,void 0,(function(){var t,n;return d(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return r.sent(),n=(t=o.E).qJsonExtractor,[4,e];case 2:return[2,n.apply(t,[r.sent()])]}}))}))},c=function(t,n){var o;return p(this,void 0,void 0,(function(){var n,s,c,l,p;return d(this,(function(d){switch(d.label){case 0:return(n=e.qJsonPool[t])?"function"!=typeof n?[3,1]:[2,n(e.qJsonPool)]:[3,5];case 1:return n instanceof Promise?[4,n]:[3,3];case 2:return[2,d.sent()];case 3:return[2,n];case 4:return[3,10];case 5:s=e.qjsonRetriever.retrieveQJsonAsync(t,a.options),c=e.qjsonRetriever.disablePagePool,d.label=6;case 6:return d.trys.push([6,8,,9]),l=u(s),c||(e.qJsonPool[t]=l),[4,l];case 7:return n=d.sent(),c||(e.qJsonPool[t]=n),[3,9];case 8:throw p=d.sent(),r.Y.Log({logMessage:"qjson error: "+t+" has error",logType:r.h.Trace,additional:p,minEngineLogLevel:null===(o=i.GetLogParams())||void 0===o?void 0:o.minEngineLogLevel}),p;case 9:return[2,n];case 10:return[2]}}))}))},"content"!=n.type?[3,1]:(f=n.content,[3,3]);case 1:return[4,c(n.path,!0)];case 2:f=h.sent(),h.label=3;case 3:return l=f,g="content"==n.type?void 0:n.path,[4,this.qjsonCollector.collectQJson(l,g,i,c,s,{qLang:null===(t=l.opt)||void 0===t?void 0:t.QL})];case 4:return[2,h.sent()]}}))}))},e.prototype.getCJson=function(e){return this.qJsonPool[e]},e.contextName="QJsonPool",e}()},56446:(e,t,n)=>{n.d(t,{A:()=>o,h:()=>r});var r={renderingComponent:{name:"RenderingComponent",props:{qjsonPath:"QJsonPath"}},customComponent:{name:"CustomComponent",props:{qjsonPath:"QJsonPath"}},messaging:{name:"Messaging",props:{masterPath:"masterPath"}}},o=["QPieChart","QQrReader"]},67359:(e,t,n)=>{n.d(t,{C:()=>i,h:()=>r});var r,o=n(6422);!function(e){e[e.PID=0]="PID",e[e.EditorID=1]="EditorID",e[e.Render=2]="Render"}(r||(r={}));var i=function(){function e(){}return e.ForEachComp=function(e,t,n,r){var o=function(e){var n,i=e.curJson,s=e.path,a=e.parentCompJson,u=e.compiledJson;if(i&&0!==i.length)for(var c=r?-1:1,l=r?i.length-1:0,p=r?-1:i.length,d=l;d!==p;d+=c){var f=i[d],g=null==u?void 0:u[d];if(f){if(s.push(d),!1===t(f,s.map((function(e){return e})),{compName:f.T,eID:f._Editor.eID,parentCompJson:a,compiledJson:g}))return!1;if(f.C)for(var h in f.C){if(s.push(h),!1===o({curJson:f.C[h].c,path:s,parentCompJson:f,compiledJson:null===(n=null==g?void 0:g.C[h])||void 0===n?void 0:n.c}))return!1;s.pop()}s.pop()}}else console.error("curJson is empty or undefined")};o({curJson:e,path:[],compiledJson:n})},e.findComponentByType=function(t,n){var r;return e.ForEachComp(t,(function(e){return e.T!=n||(r=e,!1)})),r},e.prototype.findParentArrayPath=function(t,n){return e.FindParentArrayPath(t,n)},e.FindParentArrayPath=function(e,t){var n,r=null,i=e.pop();if(0==e.length)return{selfIndex:i,parentArray:t,parent:null};for(var s=t,a=new o.O,u=0;u<e.length;u++){var c=e[u];s=a.isObject(s)?(null===(n=null==(r=s)?void 0:r.C[c])||void 0===n?void 0:n.c)||[]:s[c]||[]}return{selfIndex:i,parentArray:s,parent:r}},e.prototype.findCompBySearchField=function(t,n,o){return void 0===o&&(o=r.EditorID),e.FindCompBySearchField(t,n,o)},e.FindCompBySearchField=function(t,n,o,i){void 0===o&&(o=r.EditorID);var s=null;return e.ForEachComp(t,(function(e,t){return function(e){var t,n,i,s,a;switch(o){case r.PID:return null===(n=null===(t=e.P)||void 0===t?void 0:t.ID)||void 0===n?void 0:n.H;case r.Render:return null===(s=null===(i=e.P)||void 0===i?void 0:i.Render)||void 0===s?void 0:s.H;case r.EditorID:default:return null===(a=e._Editor)||void 0===a?void 0:a.eID}}(e)!==n||(s={compJson:e,curPath:t},!1)}),void 0,i),s},e.ParseParameters=function(e,t){if(e){var n="TS"==t||"JS"==t?function(e){return{name:e.split(":")[0],type:e.split(":")[1]}}:function(e){return{name:e}};return e.split(",").map(n)}},e.FindCompPathByEID=function(t,n){var r;return e.ForEachComp(t,(function(e,t){return e._Editor.eID!=n||(r=t,!1)})),r},e}()},5475:(e,t,n)=>{n.d(t,{E:()=>r});var r=function(){function e(){}return e.LoadModule=function(e){var t={};return new Function("module","exports",e)(t,{}),t.exports},e.FetchModuleBody=function(e){return new Promise((function(t,n){return fetch(e).then((function(e){return e.text().then((function(n){return t({body:n,status:e.status})})).catch(n)})).catch(n)}))},e}()},62190:(e,t,n)=>{var r;n.d(t,{h:()=>r,Y:()=>a}),function(e){e[e.Debug=0]="Debug",e[e.MobilDebug=1e3]="MobilDebug",e[e.Trace=2e5]="Trace",e[e.Warning=5e5]="Warning",e[e.Error=1e6]="Error"}(r||(r={}));var o=function(){function e(){this.bulkMessages=[],this.totalBulk=0}return e.prototype.writeMessage=function(e){var t,n;this.bulkSize?(this.totalBulk+=e.message.length,this.bulkMessages.push(e),this.totalBulk>=this.bulkSize&&(null===(t=this.logHandler)||void 0===t||t.call(this,this.bulkMessages),this.totalBulk=0,this.bulkMessages=[])):null===(n=this.logHandler)||void 0===n||n.call(this,e)},e}(),i=n(36070),s=function(){function e(){}return e.trySingularize=function(e,t){return!this.singularized(e)&&(i.q.Instance.Window[e]=t,!0)},e.singularized=function(e){return i.q.Instance.Window[e]},e.getFreeName=function(e){for(var t,n=null!==(t=null===i.q||void 0===i.q?void 0:i.q.Instance.Window)&&void 0!==t?t:{},r=0;n[e+"_"+ ++r];);return e+"_"+r},e}(),a=function(){function e(){return{Log:this.Log}}return Object.defineProperty(e,"LogBulkManager",{get:function(){return e.logBulkManager||(e.logBulkManager=s.singularized(e.windowName)),e.logBulkManager},enumerable:!1,configurable:!0}),e.Init=function(e){var t=e.callBack,n=e.bulkSize;this.logBulkManager=new o,this.logBulkManager.logHandler=t,this.logBulkManager.bulkSize=n,s.trySingularize(this.windowName,this.logBulkManager)},e.Log=function(t){var n,o=t.logMessage,i=t.logType,s=void 0===i?r.Debug:i,a=t.error,u=t.backgroundColor,c=void 0===u?null:u,l=t.textColor,p=void 0===l?null:l,d=t.additional,f=void 0===d?null:d,g=t.source,h=t.isClientLog,v=void 0!==h&&h,b=t.yamlLogType,y=t.minEngineLogLevel,m=t.ownerEventName,_=c||p?"background: "+c+"; color: "+p:null;switch(!0){case s==r.MobilDebug&&this.logLevel.indexOf(r.MobilDebug)>-1:case s==r.Debug&&this.logLevel.indexOf(r.Debug)>-1:case s==r.Trace&&this.logLevel.indexOf(r.Trace)>-1:n=console.log;break;case s==r.Error&&this.logLevel.indexOf(r.Error)>-1:n=console.error;break;case s==r.Warning&&this.logLevel.indexOf(r.Warning)>-1:n=console.warn}var w=[o];_&&"string"==typeof o&&(w[0]="%c"+o,w.push(_)),a&&w.push(a),f&&w.push(f),g&&w.push({source:g}),e.checkEventNameIsSpecial(m)&&!v||(w[3]={clientOnlyLog:!0}),null==n||n.apply(console,w),e.checkEventNameIsSpecial(m)&&(v||v&&b&&b<=s||y&&y<=s)&&this.prepareClientLog(o,s)},e.checkEventNameIsSpecial=function(e){return!e||!("onBeforeRequest"===e||"onAfterResponse"===e||"logHandler"===e)},e.prepareClientLog=function(t,n){var o,i,s=new Date(Date.now()),a=s.getFullYear()+"."+("0"+(s.getMonth()+1)).slice(-2)+"."+("0"+s.getDate()).slice(-2)+" "+s.getHours()+":"+("0"+s.getMinutes()).slice(-2)+":"+("0"+s.getSeconds()).slice(-2)+":"+s.getMilliseconds(),u=this.getCalleFunctionName();if("string"!=typeof t)try{i=this.shorten(JSON.stringify(t),n)}catch(e){i="Can not stringfy the given log. Type of log data is: "+Object.prototype.toString.call(t)}else i=this.shorten(t,n);null===(o=e.LogBulkManager)||void 0===o||o.writeMessage({message:i,type:r[n],time:a,caller:u})},e.getCalleFunctionName=function(){return""},e.clearLogs=function(){var t,n;null===(n=null===(t=e.LogBulkManager)||void 0===t?void 0:t.clear)||void 0===n||n.call(t)},e.shorten=function(e,t){return e},e.prototype.Log=function(t){return e.Log(t)},e.windowName=s.getFreeName("shrimp_shelldorynemo_pulsar_lbm"),e.logLevel=[r.MobilDebug,r.Trace,r.Debug,r.Warning,r.Error],e}()},56303:(e,t,n)=>{n.d(t,{E:()=>s});var r=function(){function e(){}return e.ParseQJsonContent=function(e){var t=e;if(e.indexOf("let pjson =")>-1){var n=e.split("let pjson =");t=(n=n[1].split(";\nexport")[0].split(";\r\nexport"))[0]}else if(t.indexOf("rally_microUI")>-1){var r=t.indexOf("registerQJson"),o=t.indexOf(",",r)+1;t=t.substring(o,t.length-2)}return JSON.parse(t)},e}(),o=function(){function e(){}return e.QJsonBodyToString=function(e,t){return"let pjson = "+(1==t?JSON.stringify(e):JSON.stringify(e,null,"\t"))+";\r\nexport default pjson"},e.prototype.Serialize=function(t){var n,r=e.boundary+"\r\n",o=e.headerPrefix+"v2\r\nboundary: "+r+"\r\n"+r,i=function(e,t,n){return"name: "+e+"\r\ntype: "+t+"\r\n\r\n"+n},s=t.files,a=t.cFiles;try{t.files=void 0,t.cFiles=void 0,n=i("qjson","qjson",e.QJsonBodyToString(t))}finally{t.files=s,t.cFiles=a}return o+n+(s?r+Object.keys(s).map((function(e){return i(e,"source",s[e])})).join(r):"")+(a?r+Object.keys(a).map((function(e){return i(e,"compiled",a[e])})).join(r):"")},e.prototype.Parse=function(e){var t=this.nextLine(e,0),n=this.extractHeaders(e,t.lastIndex),o=n.headers.boundary,i=n.lastIndex,s={},a={};do{var u=this.getSection(e,o,i);("compiled"==u.headers.type?a:s)[u.headers.name]={headers:u.headers,content:u.section},i=u.lastIndex}while(-1!=i);var c=r.ParseQJsonContent(s.qjson.content);delete s.qjson;var l=c.files={},p=c.cFiles={};return Object.keys(s).forEach((function(e){return l[e]=s[e].content})),Object.keys(a).forEach((function(e){return p[e]=a[e].content})),c},e.prototype.getSection=function(e,t,n){var r=this.extractHeaders(e,n),o=this.getTillBoundary(e,t,r.lastIndex);return{headers:r.headers,section:o.section,lastIndex:o.lastIndex}},e.prototype.getTillBoundary=function(e,t,n){var r=e.indexOf(t,n);return-1==r?{section:e.substring(n),lastIndex:-1}:{section:e.substring(n,r),lastIndex:r+t.length+1}},e.prototype.extractHeaders=function(e,t){var n={},r={line:"",lastIndex:t};do{if(!(r=this.nextLine(e,r.lastIndex)).line)break;var o=this.parseLine(r.line);o&&(n[o.key]=o.value)}while(-1!=r.lastIndex);return{headers:n,lastIndex:r.lastIndex}},e.prototype.parseLine=function(e){var t=e.indexOf(":");if(-1!=t)return{key:e.substring(0,t).trim(),value:e.substring(t+1).trim()}},e.prototype.nextLine=function(e,t){var n=e.indexOf("\n",t);return{line:i(e.substring(t,-1==n?void 0:n)),lastIndex:n+1||-1}},e.boundary="-------------------QJSONFileBoundary-----------------------------",e.headerPrefix="qjson-",e}();function i(e){return e.endsWith("\r")?e.substring(0,e.length-1):e}var s=function(){function e(){}return e.qJsonExtractor=function(t){var n=e.qJsonMediumDecider(t);if(n.startsWith("qjson-")){var r=i(n.substring("qjson-".length,n.indexOf("\n")));return a[r].Parse(n)}return e.ParseQJsonContent(n)},e.qJsonMediumDecider=function(e){if("string"==typeof e)return e.startsWith('{"qjson":"')?JSON.parse(e).qjson:e;var t=JSON.stringify(e);return e.qjson||t},e.ParseQJsonContent=function(e){return r.ParseQJsonContent(e)},e}(),a={v2:new o}},36348:(e,t,n)=>{n.d(t,{t:()=>i});var r=document.currentScript.src,o=r.substring(0,r.lastIndexOf("/")),i=function(){function e(){}return e.getScriptRoot=function(){return o},e.concatUrl=function(e,t){return(e.endsWith("/")?e:e+"/")+(t.startsWith("/")?t.substring(1):t)},e}()},6422:(e,t,n)=>{n.d(t,{O:()=>r});var r=function(){function e(){}return e.prototype.isJsonString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},e.prototype.GetObjectType=function(e){return Object.prototype.toString.call(e)},e.prototype.isArray=function(e){return"[object Array]"==this.GetObjectType(e)},e.prototype.isString=function(e){return"[object String]"===this.GetObjectType(e)},e.prototype.isNumber=function(e){return"[object Number]"===this.GetObjectType(e)},e.prototype.isNull=function(e){return null==e},e.prototype.isFunction=function(e){return"[object Function]"===this.GetObjectType(e)},e.prototype.isObject=function(e){return"[object Object]"===this.GetObjectType(e)},e.prototype.isBool=function(e){return"[object Boolean]"===this.GetObjectType(e)},e.prototype.isBooleanConstructor=function(e){return"function Boolean() { [native code] }"==(null==e?void 0:e.toString())},e.prototype.isStringConstructor=function(e){return"function String() { [native code] }"==(null==e?void 0:e.toString())},e.prototype.isArrayConstructor=function(e){return"function Array() { [native code] }"==(null==e?void 0:e.toString())},e.prototype.isObjectConstructor=function(e){return"function Object() { [native code] }"==(null==e?void 0:e.toString())},e.prototype.isNumberConstructor=function(e){return"function Number() { [native code] }"==(null==e?void 0:e.toString())},e.prototype.isDateString=function(e){return!!this.isString(e)&&!isNaN(Date.parse(e))},e.prototype.isDate=function(e){return"[object Date]"===this.GetObjectType(e)},e.prototype.isFile=function(e){return"[object File]"===this.GetObjectType(e)},e.prototype.isBlob=function(e){return new Blob([e])instanceof Blob},e.prototype.cloneObject=function(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(Array.isArray(e)){t=[];for(var n=0,r=e.length;n<r;n++)t[n]=this.cloneObject(e[n]);return t}if("object"==typeof e){for(var o in t=e.constructor&&e.constructor.length<1?new e.constructor:{},e)e.hasOwnProperty(o)&&(t[o]=this.cloneObject(e[o]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")},e}()},40591:(e,t,n)=>{n.d(t,{_:()=>o});var r=n(36348),o=function(){function e(){}return e.getScriptRoot=function(){return r.t.getScriptRoot()},e.concatUrl=function(e,t){return r.t.concatUrl(e,t)},e.IsDirectUrl=function(e){return e.startsWith("http:")||e.startsWith("https:")||e.startsWith("blob:")},e.GetDomain=function(e){var t;try{t=new URL(e)}catch(r){var n=document.createElement("a");n.href=e,t=n}return t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")},e.ParseQuery=function(e){var t={};if(!e)return t;for(var n=("?"===e[0]?e.substr(1):e).split("&"),r=0;r<n.length;r++){var o=n[r].split("="),i=decodeURIComponent(o[0]),s=t[i];s||(s=[],t[i]=s),s.push(decodeURIComponent(o[1]||""))}return t},e}()},36070:(e,t,n)=>{n.d(t,{q:()=>s});var r=n(62190),o=function(){function e(){}return e.trySingularize=function(e,t,n){var r=t[e];return r||(r=t[e]=n),r},e}(),i="undefined",s=function(){function e(){this.doc=typeof document!==i?document:{addEventListener:function(e,t,n){r.Y.Log({logMessage:"Enviroment does not support document. Triggering document.addEventListener now, type is: "+e,logType:r.h.Warning}),t({target:{readyState:this.readyState}})},createElement:function(e,t){return{tagName:e,options:t}},readyState:"complete"},this.hist=typeof history!==i?history:{pushState:function(e,t,n){r.Y.Log({logMessage:"history.pushState not supported on Node. title: "+t,logType:r.h.Debug})}},this.win=typeof window!==i?window:{setInterval,clearInterval,setTimeout,clearTimeout,atob,btoa},this.helperWorker={worker:function(e,t){return typeof Worker!==i?new Worker(e,t):void 0}}}return Object.defineProperty(e.prototype,"onPopState",{set:function(e){typeof window!==i?window.onpopstate=e:r.Y.Log({logMessage:"onPopState not supported on Node.",logType:r.h.Debug})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.doc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.hist},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Window",{get:function(){return this.win},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Worker",{get:function(){return this.helperWorker},enumerable:!1,configurable:!0}),e.Instance=o.trySingularize("theOneWindow",(new e).Window,new e),e}()},67642:(e,t,n)=>{n.d(t,{i:()=>r});var r=function(){function e(){}return e.getLang=function(e){var t,n,r=e.self,o=e.ctrl,i=e.qJson,s=e.qLang;return r||(null===(t=null==o?void 0:o.O)||void 0===t?void 0:t.CL)||(null===(n=null==i?void 0:i.opt)||void 0===n?void 0:n.QL)||s},e}()},3085:(e,t,n)=>{n.d(t,{D:()=>o});var r=n(40591),o=function(){function e(){}return e.migrateLegacySettings=function(e){var t=function(e,n,r){1!=n.length?(r[n[0]]&&"object"!=typeof r[n[0]]&&(r[n[0]]={}),r[n[0]]=r[n[0]]||{},t(e,n.slice(1),r[n[0]])):r[n[0]]||(r[n[0]]=e)};return[{oldField:"csspath",newField:"cssPath",log:"legacy Settings.yaml. change csspath -> cssPath"},{oldField:"domainURL",newField:"qjsonURLPrefix",log:"legacy Settings.yaml. change domainURL -> qjsonURLPrefix"},{oldField:"urlprefix",newField:"qjsonURLPrefix",log:"legacy Settings.yaml. change urlprefix -> qjsonURLPrefix"},{oldField:"RegionalDefinition",newField:"regionalDefinition",log:"legacy Settings.yaml. change RegionalDefinition -> regionalDefinition"},{oldField:"DomainModuleList",newField:"domainModuleList",log:"legacy Settings.yaml. change DomainModuleList -> domainModuleList"},{oldField:"Backend",newField:"backendInf",log:"legacy Settings.yaml. Move Backend in to backendInf key."},{oldField:"PredefinedBackendHeaders",newField:"backendInf.PredefinedBackendHeaders",log:"legacy Settings.yaml. Move PredefinedBackendHeaders in to backendInf key."},{oldField:"HeaderExceptionList",newField:"backendInf.HeaderExceptionList",log:"legacy Settings.yaml. Move HeaderExceptionList in to backendInf key."},{oldField:"Header",newField:"backendInf.Header",log:"legacy Settings.yaml. Move Header in to backendInf key."},{oldField:"backendInf.singleTab",newField:"singleTab",log:"legacy Settings.yaml. Move Header in to backendInf key."},{oldField:"yamlLogType",newField:"appSettings.logging.yamlLogType",log:"legacy Settings.yaml. Move yamlLogType in to appSettings yamlLogType key."},{oldField:"minEngineLogLevel",newField:"appSettings.logging.minEngineLogLevel",log:"legacy Settings.yaml. Move minEngineLogLevel in to appSettings minEngineLogLevel key."},{oldField:"logBulkSize",newField:"appSettings.logging.logBulkSize",log:"legacy Settings.yaml. Move logBulkSize in to appSettings logBulkSize key."}].forEach((function(n){var r=function(t){for(var n=t.split("."),r=e,o=0;o<n.length;o++){var i=r[n[o]];if(!i)return;o==n.length-1&&delete r[n[o]],r=i}return r}(n.oldField);r&&t(r,n.newField.split("."),e)})),e},e.fixLegacyPathFormat=function(e){if(e.startsWith("quick://")){var t=e.substring(8).split("/");return"/microui/"+t[0]+"/qjson/"+e.substring(t[0].length+9)}return e},e.containerServicesModifications=function(e,t){return e||(e={}),t&&(e.logout=function(){t.logout()},e.getPlateauIAM=function(){return t}),e},e.fixQueryString=function(e){var t,n=window.location.search,o=window.location.hash,i={};n&&(n=(n="?"===n[0]?n.substr(1):n).replace(/\?/,"&"),e=(i=r._.ParseQuery(n)).q?i.q.splice(0,1).join(""):e,0==(null===(t=i.q)||void 0===t?void 0:t.length)&&delete i.q),i.qjsonpath&&(e+="?qjsonpath="+i.qjsonpath.splice(0,1),0==i.qjsonpath.length&&delete i.qjsonpath);var s=Object.entries(i).map((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e,2),n=t[0],r=t[1];return null==r?void 0:r.map((function(e){return encodeURIComponent(n)+"="+encodeURIComponent(e)}))})).map((function(e){return null==e?void 0:e.join("&")})).join("&");if(null==e?void 0:e.endsWith(".js"))return e;if(e){var a=(null==e?void 0:e.endsWith(".qjson"))?e:e+=".qjson";return(s?a+"?"+s:a)+o}return e},e}()},27254:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreatePromiseData=void 0;var n=!1;new Promise((function(e){return e()})).then((function(){return n=!0})),"undefined"!=typeof doNothing&&doNothing();var r=!0===n;t.CreatePromiseData=function(e,t){void 0===t&&(t={});var n,o=void 0,i=void 0,s=function(e){n&&clearTimeout(n),n=setTimeout((function(){i(new Error("The operation has timed out. timeoutValue  : "+e))}),e)};return e&&s(e),{startTimer:s,promise:new Promise((function(e,n){var s;s=e,o=r&&t.fixSyncResolve?function(e){return setTimeout((function(){return s(e)}))}:s,i=n})),resolver:o,reject:i}}},26984:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CryptoHelper=void 0;var CryptoHelper=function(){function CryptoHelper(){}return CryptoHelper.generateRandom=function(nums){var characters="0123456789abcdefghijklmnopqrstuvwxyz",sum=nums.reduce((function(e,t){return e+t}),0),isomorphicCrypto="undefined"!=typeof crypto?eval("crypto"):eval("require")("crypto"),randomValues=isomorphicCrypto.getRandomValues(new Uint8Array(sum)),index=0;return nums.reduce((function(e,t){return e.push(Array.from(new Array(t)).map((function(e){return characters[randomValues[index++]%characters.length]})).join("")),e}),[])},CryptoHelper.CreateGuid=function(){var e=Date.now().toString(36).substring(0,9).padStart(9,"0");return CryptoHelper.generateRandom([8,4,4,4,3]).join("-")+e},CryptoHelper}();exports.CryptoHelper=CryptoHelper},21302:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventBus=void 0;var r=n(48050),o=function(){function e(){this.subsDict={}}return e.prototype.obtainSubsList=function(e){return this.subsDict[e]||(this.subsDict[e]=new r.Hook("EventBus_"+e))},e.prototype.Subscribe=function(t,n){if(t==e.AllEvents)throw new Error(t+" is a registered key. If you want to subscribe all events, use SubsribeAll().");this.obtainSubsList(t).subscribe(n)},e.prototype.Unsubscribe=function(t,n){var r;if(t==e.AllEvents)throw new Error(t+" is a registered key. If you want to subscribe all events, use SubsribeAll().");null===(r=this.subsDict[t])||void 0===r||r.unsubscribe(n)},e.prototype.SubscribeAll=function(t){this.obtainSubsList(e.AllEvents).subscribe(t)},e.prototype.UnsubscribeAll=function(t){var n;null===(n=this.subsDict[e.AllEvents])||void 0===n||n.unsubscribe(t)},e.prototype.Trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.subsDict[e.AllEvents];if(null==o||o.triggerer.apply(o,n),t!=e.AllEvents){var i=this.subsDict[t];null==i||i.triggerer.apply(i,n)}},e.prototype.TriggerJustAllSubs=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.subsDict[e.AllEvents];null==r||r.triggerer.apply(r,t)},e.prototype.destroy=function(){this.subsDict={}},e.AllEvents="AllEvents",e}();t.EventBus=o},35332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FrameCommunicator=void 0;var r=n(56094),o=function(){function e(e){var t=this;this.OnMessageWithDirectObject=!0,this.targetWindow=e,window.addEventListener("message",this.messageHandler=function(n){var r;n.source==e&&(null===(r=t.OnMessage)||void 0===r||r.call(t,n.data))})}return e.prototype.Send=function(e){this.targetWindow.postMessage(e,"*")},e.prototype.destroy=function(){window.removeEventListener("message",this.messageHandler),this.OnMessage=void 0},e}(),i=function(){function e(e){this.windowSocket=new o(e),this.structuredSocket=new r.StructuredSocket(this.windowSocket)}return e.prototype.Send=function(e,t,n,r){return this.structuredSocket.Send(n,r)},e.prototype.Subscribe=function(e,t,n){this.structuredSocket.Subscribe(t,n)},e.prototype.SubscribeAll=function(e){this.structuredSocket.SubscribeAll((function(t){return e(t)}))},e.prototype.UnsubscribeAll=function(e){this.structuredSocket.UnsubscribeAll((function(t){return e(t)}))},e.prototype.destroy=function(){this.structuredSocket.destroy()},e}();t.FrameCommunicator=i},48050:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Hook=void 0,n(79914);var i=function(){function e(e,t){void 0===t&&(t={}),this.subscribers=[],this.hookName=e,this.triggerPostSubscribersWithCb=t.triggerPostSubscribersWithCb||!1,t.manageState=t.manageState||!1,this.hookState={triggered:!1,triggerArgs:[],active:t.manageState}}return e.configure=function(t){e.logger=t},Object.defineProperty(e.prototype,"TriggerPostSubscribersWithCb",{get:function(){return this.triggerPostSubscribersWithCb},set:function(e){this.triggerPostSubscribersWithCb=e},enumerable:!1,configurable:!0}),e.prototype.ResetAndStartState=function(){this.hookState.triggerArgs=[],this.hookState.active=!0,this.hookState.triggered=!1},e.prototype.DisableState=function(){this.hookState.triggerArgs=[],this.hookState.active=!1,this.hookState.triggered=!1},e.prototype.IsTriggered=function(){if(!this.hookState.active)throw new Error("IsTriggered can not be checked on a non manageState Hook: "+this.hookName);return this.hookState.triggered},e.prototype.getHookName=function(){var e=this.hookName;return e.toLowerCase().endsWith("hook")||(e+=" hook"),e},Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.subscriberCount>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subscriberCount",{get:function(){return this.subscribers.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPostSubscribers",{get:function(){var e,t;return!0===((null===(e=this.postSubscribers)||void 0===e?void 0:e.hasPostSubscribers)||(null===(t=this.postSubscribers)||void 0===t?void 0:t.hasSubscribers))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"triggerer",{get:function(){return this.trigger},enumerable:!1,configurable:!0}),e.prototype.trigger=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.hookState.active&&(this.hookState.triggered=!0,this.hookState.triggerArgs=n),this.subscribers.forEach((function(e){return t.tryTriggerSubscriber(e,n)})),this.triggerPostSubscribersWithCb||null===(e=this.postSubscribers)||void 0===e||e.triggerer.apply(this.postSubscribers,n)},e.prototype.tryTriggerSubscriber=function(t,n){return r(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.apply(null,n)];case 1:return o.sent(),[3,3];case 2:return r=o.sent(),i=this.getHookName()+" subscriber failed",e.logger?(e.logger.log({error:r,message:i}),[2]):(console.error(i,r),[3,3]);case 3:return[2]}}))}))},e.prototype.triggerPostSubscribers=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=this.postSubscribers)||void 0===e||e.triggerer.apply(this.postSubscribers,t)},e.prototype.postSubscribe=function(t){this.postSubscribers||(this.postSubscribers=new e(this.hookName+"_Post",{manageState:this.hookState.active}),this.postSubscribers.hookState=this.hookState),this.postSubscribers.subscribe(t)},e.prototype.postUnsubscribe=function(e){var t;null===(t=this.postSubscribers)||void 0===t||t.unsubscribe(e)},e.prototype.clearPostSubscribers=function(e){var t;void 0===e&&(e=!1),null===(t=this.postSubscribers)||void 0===t||t.clearSubscribers(),!e&&this.hasPostSubscribers||(this.postSubscribers=void 0)},e.prototype.forceClearAllSubscibers=function(){this.clearPostSubscribers(!0),this.clearSubscribers()},e.prototype.subscribe=function(e){this.subscribers.push(e),this.hookState.active&&this.hookState.triggered&&this.tryTriggerSubscriber(e,this.hookState.triggerArgs)},e.prototype.clearSubscribers=function(){this.subscribers=[]},e.prototype.unsubscribe=function(e){this.subscribers=this.subscribers.filter((function(t){return t!=e}))},e}();t.Hook=i},98099:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.importModuleBody=t.importModuleFile=t.importModule=t.importScript=void 0;var s=n(27254);function a(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,fetch(e)];case 1:return[4,t.sent().text()];case 2:return[2,t.sent()]}}))}))}function u(e,t,n,r){void 0===n&&(n="default");var o={};return new Function("module","exports","require","params","__tempPlateauUIParams__",e)(o,{},t,r,r),"*"==n?o.exports:o.exports[n]}t.importScript=function(e,t,n,a){return void 0===n&&(n="default"),o(this,void 0,void 0,(function(){var o,u,c;return i(this,(function(i){switch(i.label){case 0:return window.__tempPlateauUIParams__=a,o=(0,s.CreatePromiseData)(),(u=document.createElement("script")).src=e,u.onload=function(){return o.resolver()},u.onerror=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];delete window.__tempPlateauUIParams__,o.reject(r({},e))},document.body.appendChild(u),[4,o.promise];case 1:i.sent(),delete window.__tempPlateauUIParams__,c=window[t];try{delete window[t]}catch(e){}return[2,"*"==n?c:c[n]]}}))}))},t.importModule=function(e,t,n,r){return void 0===n&&(n="default"),o(this,void 0,void 0,(function(){return i(this,(function(o){switch(o.label){case 0:return[4,a(e)];case 1:return[2,u(o.sent(),t,n,r)]}}))}))},t.importModuleFile=a,t.importModuleBody=u},56094:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StructuredSocket=void 0;var r=n(27254),o=n(26984),i=n(21302),s=function(){function e(e){this.socket=e,this.awaitMsgList={},this.eventBus=new i.EventBus,e.OnMessage=this.listen.bind(this)}return e.prototype.CreatePackage=function(e,t){return{msg:e,id:o.CryptoHelper.CreateGuid(),replyId:t.replyId}},e.prototype.Send=function(e,t){var n=this.CreatePackage(e,t);if(this.socket.Send(n,{transferBuffers:t.transferBuffers}),t.awaitResponse){var o=(0,r.CreatePromiseData)(t.awaitTime);return this.awaitMsgList[n.id]={promData:o},o.promise}},e.prototype.Subscribe=function(e,t){this.eventBus.Subscribe(e,t)},e.prototype.Unsubscribe=function(e,t){this.eventBus.Unsubscribe(e,t)},e.prototype.SubscribeAll=function(e){this.eventBus.SubscribeAll(e)},e.prototype.UnsubscribeAll=function(e){this.eventBus.UnsubscribeAll(e)},e.prototype.tryLogJsonParseEx=function(e){try{return JSON.parse(e)}catch(c){var t=c;if(!t.message)throw c;var n="in JSON at position",r=t.message.indexOf(n);if(r<=-1)throw c;var o=t.message.substring(r+n.length),i=Number(o);if(isNaN(i))throw c;var s=i<30?0:i-30,a=i>e.length-30?e.length:i+30,u=e.substring(s,a);throw console.log(u+"\n"+" ".repeat(i-s)+"^"),c}},e.prototype.ConvertBufferToStructure=function(e){try{var t=this.socket.OnMessageWithDirectObject?e:this.tryLogJsonParseEx(e.toString());return t?t.msg&&t.msg.type?t:void console.log("unexpected message format: missing {msg:{type: ... }} structure"):void console.log("unexpected message format: undefined")}catch(e){return void console.log("unexpected message format: json.parse error: ",e)}},e.prototype.listen=function(e){var t=this.ConvertBufferToStructure(e);if(t){if(t.replyId){var n=this.awaitMsgList[t.replyId];return n&&(delete this.awaitMsgList[t.replyId],n.promData.resolver(t)),void this.eventBus.TriggerJustAllSubs(t)}this.eventBus.Trigger(t.msg.type,t)}},e.prototype.destroy=function(e){this.socket.destroy();var t=this.awaitMsgList;this.awaitMsgList={},this.eventBus.destroy();var n=new Error(e||"structuredSocket destroyed with no reason specified");Object.keys(t).forEach((function(e){var r;return null===(r=t[e])||void 0===r?void 0:r.promData.reject(n)}))},e}();t.StructuredSocket=s},79914:()=>{String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},68543:(e,t,n)=>{t.fz=void 0;var r=n(35332),o=function(){function e(){}return e.CreatePlateauMessaging=function(e){return new r.FrameCommunicator(e)},e}();t.fz=o}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var o=2&t&&e;"object"==typeof o&&!~leafPrototypes.indexOf(o);o=getProto(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>e+".js?ver=3.0.34-0",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="@stechquick/websdk:",__webpack_require__.l=(e,t,n,r)=>{if(inProgress[e])inProgress[e].push(t);else{var o,i;if(void 0!==n)for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var u=s[a];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==dataWebpackPrefix+n){o=u;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",dataWebpackPrefix+n),o.src=e),inProgress[e]=[t];var c=(t,n)=>{o.onerror=o.onload=null,clearTimeout(l);var r=inProgress[e];if(delete inProgress[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},l=setTimeout(c.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=c.bind(null,o.onerror),o.onload=c.bind(null,o.onload),i&&document.head.appendChild(o)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={3046:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(i,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,a]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);a&&a(__webpack_require__)}for(t&&t(n);u<i.length;u++)o=i[u],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=this.webpackChunk_stechquick_websdk=this.webpackChunk_stechquick_websdk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{createRenderer:()=>v,destroy:()=>b,init:()=>h});var e,t=__webpack_require__(98099),n=__webpack_require__(60035),r=__webpack_require__(5475),o=__webpack_require__(56303),i=__webpack_require__(3085),s=__webpack_require__(68543),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},c=function(){function e(){window.opener&&(this.frameCommunication=s.fz.CreatePlateauMessaging(window.opener))}return e.prototype.isItLivePreview=function(){return a(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:if(!this.frameCommunication)return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.frameCommunication.Send("LivePreview","getLPID",{type:"getLPID"},{awaitResponse:!0,awaitTime:100})];case 2:return(e=t.sent())&&"getLPIDResponse"==e.msg.type?(this.livePreviewID=e.msg.ID,[2,e.msg.ID]):[2,!1];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))},e.prototype.getLivePreviewSettings=function(){return a(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:if(!this.frameCommunication)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.frameCommunication.Send("LivePreview","getLPPlateauUIOptions",{type:"getLPPlateauUIOptions"},{awaitResponse:!0,awaitTime:1e4})];case 2:return(e=t.sent())&&"getLPPlateauUIOptionsResponse"==e.msg.type?(e.msg.PlateauUIOptions.serviceWorker||(this.getQjsonUrlPrefix=e.msg.getQJsonUrlPrefix),e.msg.PlateauUIOptions.settings.settings=e.msg.PlateauUIOptions.settings.settings||{value:{},type:"object"},e.msg.PlateauUIOptions.settings.settings.value.useLocalProxyOnClient=!0,[2,e.msg.PlateauUIOptions]):[2];case 3:return t.sent(),[2];case 4:return[2]}}))}))},e.prototype.sendSwMessage=function(e){return a(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:if(!this.frameCommunication)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.frameCommunication.Send("LivePreview","lpServiceWorkerRequestRequest",{type:"lpServiceWorkerRequestRequest",resourceId:e},{awaitResponse:!0,awaitTime:6e4})];case 2:return(t=n.sent())&&"lpServiceWorkerRequestResponse"==t.msg.type?[2,t.msg]:[2];case 3:return n.sent(),[2];case 4:return[2]}}))}))},e.prototype.setExternalQJsonRetriever=function(e){this.getQjsonUrlPrefix&&e.setQJsonUrlPrefix(this.getQjsonUrlPrefix)},e}(),l=__webpack_require__(62190),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},f=function(){function e(e,t,n,r){this.container=e,this.renderer=t,this.mountPoint=n,this.sdkInstance=r}return e.prototype.open=function(e,t){return p(this,void 0,void 0,(function(){return d(this,(function(n){switch(n.label){case 0:return this.sdkInstance.showCssTags(!0,(null==t?void 0:t.pageName)||""),[4,this.container.open({renderer:this.renderer,qjsonPath:e,args:t})];case 1:return n.sent(),[2]}}))}))},e.prototype.show=function(e){var t=(null==e?void 0:e.pageName)||"default";this.renderer.resurrect(),this.sdkInstance.showCssTags(!0,t),this.mountPoint.style.display="block"},e.prototype.hide=function(e){var t=(null==e?void 0:e.pageName)||"default";this.mountPoint.style.display="none",this.sdkInstance.showCssTags(!1,t),this.renderer.Hibernate(!0)},e.prototype.close=function(e){this.destroy(e)},e.prototype.destroy=function(e){var t=(null==e?void 0:e.pageName)||"default";return this.sdkInstance.showCssTags(!1,t),this.sdkInstance.destroyRenderer(this.renderer),this.mountPoint.remove(),this.renderer.settingsQJsons.TriggerPipeline("applicationEnd",{})},e.prototype.trigger=function(e){var t=e.eventName,n=e.parameters;return this.renderer.Trigger(t,n)},e.prototype.triggerPipeline=function(e){var t=e.eventName,n=e.parameters;return this.renderer.settingsQJsons.TriggerPipeline(t,n)},e.prototype.getGlobalStore=function(e){var t=this.renderer.DoryInst.GetContext().GetItemSingle("GlobalStoreContext");if(!t)throw"Store context is not found";var n=t.get(e);return console.log("storeField => ",n),n},e}(),g=function(){function e(){this.enviromentInfo="sdk",this.PlateauIAM=void 0,this.PlateauUIOptions={corsEnabled:!0,iam:"./settings/settings_iam.js",settings:"./settings/settings_web.js",asset:"./static/css/assetList.js"},this.initCompleted=!1,this.containerServicesParameter={},Object.defineProperty(this.containerServicesParameter,"plateauUIRenderer",{get:function(){throw new Error("Create renderer first!")},configurable:!0})}return e.prototype.init=function(e){var t,n,r,o=e.PlateauUIOptions,s=e.environmentInfo,a=void 0===s?"sdk":s;return p(this,void 0,void 0,(function(){var e,s,u,c,l,p,f,g,h,v,b;return d(this,(function(d){switch(d.label){case 0:return(e=this).enviromentInfo=a,[4,e.configureLivePreview(o)];case 1:return s=d.sent(),e.PlateauUIOptions=s||(null!=o?o:this.PlateauUIOptions),e.settingsWeb?[3,8]:(u=void 0,e.lpManager?(u=e.PlateauUIOptions.settings,e.appSettings=e.PlateauUIOptions.settings.appSettings?JSON.parse(e.PlateauUIOptions.settings.appSettings.value):void 0,[3,7]):[3,2]);case 2:return(c=e.PlateauUIOptions.settings)instanceof Promise?[4,c]:[3,4];case 3:return l=d.sent(),[3,6];case 4:return[4,e.LoadJS(c,"plateauUISettings",{importField:"*"})];case 5:l=d.sent(),d.label=6;case 6:if(!(u=l))throw"please set following: PlateauUIOptions['settings']";d.label=7;case 7:u.localProxy&&"object"==u.localProxy.type&&(u.settings.value.settingsProxyYaml=u.settings.value.settingsProxyYaml||{},u.settings.value.settingsProxyYaml.localProxy=u.localProxy.value),e.SDKSettings=i.D.migrateLegacySettings(u.settings.value),e.lpManager&&(e.SDKSettings.appSettings=e.appSettings),e.settingsWeb=u,d.label=8;case 8:return[4,e.handleIAMSettings()];case 9:if(d.sent(),e.assetList=null===(n=null===(t=null==s?void 0:s.settings)||void 0===t?void 0:t.asset)||void 0===n?void 0:n.value,!(p=e.PlateauUIOptions.asset))return[3,16];if(!(p instanceof Promise))return[3,14];d.label=10;case 10:return d.trys.push([10,12,,13]),f=e,[4,p];case 11:return f.assetList=d.sent(),[3,13];case 12:return d.sent(),[3,13];case 13:return[3,16];case 14:return g=e,[4,e.LoadJS(p,"plateauUIAsset",{importField:"*",required:!1})];case 15:g.assetList=d.sent(),d.label=16;case 16:return this.SDKInstance?[3,20]:(h=void 0,(null===(r=e.settingsWeb)||void 0===r?void 0:r.containerServices)?[4,e.LoadObject(e.settingsWeb.containerServices,"plateauUIContainerServices",{importField:"*",required:!1,parameters:this.containerServicesParameter})]:[3,18]);case 17:h=d.sent(),d.label=18;case 18:return h=i.D.containerServicesModifications(h,this.PlateauIAM),window.location.search&&(document.cookie="queryParams="+window.location.search+";path=/;"),v=this,[4,Promise.all([__webpack_require__.e(5110),__webpack_require__.e(4718)]).then(__webpack_require__.bind(__webpack_require__,70715))];case 19:v.SDKInstance=new(d.sent().WebSDK)(e.SDKSettings,h,{environmentName:a}),d.label=20;case 20:return e.lpManager&&e.lpManager.setExternalQJsonRetriever(e.SDKInstance),e.SDKConfiguration?[3,22]:[4,e.setSDKConfig()];case 21:b=d.sent(),e.SDKConfiguration=b,d.label=22;case 22:return this.initCompleted=!0,[2]}}))}))},e.prototype.createRenderer=function(e){var t=e.mountPoint;return p(this,void 0,void 0,(function(){var e,n,r,o,i;return d(this,(function(s){switch(s.label){case 0:return n=(e=this).SDKInstance.CreateRenderer({mountPoint:t,config:e.SDKConfiguration}),r=n.newMountPoint,(o=n.renderer).DoryInst.SetAssetValues(e.assetList),[4,e.setSettingsQJsons({renderer:o})];case 1:return s.sent(),i=new f(e,o,r,this.SDKInstance),delete this.containerServicesParameter.plateauUIRenderer,this.containerServicesParameter.plateauUIRenderer=i,[2,i]}}))}))},e.prototype.destroy=function(){var e;null===(e=this.SDKInstance)||void 0===e||e.destroy()},e.prototype.initLoadingComponent=function(e){var t,r,o,i,s,a;return p(this,void 0,void 0,(function(){var u,c,l,p,f;return d(this,(function(d){switch(d.label){case 0:if(!(null===(t=(u=this).settingsWeb)||void 0===t?void 0:t.loading)&&!(null===(r=u.settingsWeb)||void 0===r?void 0:r.settings.value.loadingqjson))return[2];if("lottie"==(null===(o=u.settingsWeb.loading)||void 0===o?void 0:o.format)||"object"==(null===(i=u.settingsWeb.loading)||void 0===i?void 0:i.type))throw"Loading Lottie Format or Object Type on Web NOTIMPLEMENTED";return l=e.getContextItem(n.k.contextName),p=e.DoryInst,(f=null===(s=u.settingsWeb)||void 0===s?void 0:s.settings.value.loadingqjson)&&(c={type:"path",path:f.startsWith("/")?f.substring(1):f,options:{disableLoading:!0}}),(null===(a=u.settingsWeb)||void 0===a?void 0:a.loading)&&(c="js"==u.settingsWeb.loading.type?{type:"content",content:e.settingsQJsons.GetLoadingQjson()}:{type:"path",path:u.settingsWeb.loading.value,options:{disableLoading:!0}}),[4,l.retrieveAndFillQjsonAsync({qjson:c,dory:p})];case 1:if(d.sent().changedPath)throw new Error("unexpected path change: possible masterPage");return[2]}}))}))},e.prototype.open=function(e){var t,n,r,o,s,a,u,c,l=e.renderer,f=e.qjsonPath,g=e.args;return p(this,void 0,void 0,(function(){var e,p,h,v,b,y,m,_,w,S,P;return d(this,(function(d){switch(d.label){case 0:return[4,(e=this).initLoadingComponent(l)];case 1:return d.sent(),h=i.D.fixQueryString(),"sdk"==this.enviromentInfo&&f?(f=i.D.fixLegacyPathFormat(f),p={pjsonPath:f,storeItems:g},[3,9]):[3,2];case 2:return"qui"==this.enviromentInfo&&h?(p={pjsonPath:h,storeItems:g},[3,9]):[3,3];case 3:return p||!(null===(t=e.settingsWeb)||void 0===t?void 0:t.rootqjson)?[3,5]:[4,e.LoadObject(null===(n=e.settingsWeb)||void 0===n?void 0:n.rootqjson,"")];case 4:return v=d.sent(),b=e.settingsWeb.settings.value.rootqjson,p={pjsonContent:v,pageName:b,storeItems:g},[3,9];case 5:return!(null===(r=e.settingsWeb)||void 0===r?void 0:r.settings.value.rootqjsonpath)||e.settingsWeb.rootqjson?[3,8]:[4,null===(o=this.SDKInstance)||void 0===o?void 0:o.qJsonRetriever.retrieveQJsonAsync(null===(s=e.settingsWeb)||void 0===s?void 0:s.settings.value.rootqjsonpath,{disableLoading:!0})];case 6:return y=d.sent(),m={format:"qjson",type:"js",value:y},[4,e.LoadObject(m,"")];case 7:return _=d.sent(),w=e.settingsWeb.settings.value.rootqjsonpath,p={pjsonContent:_,pjsonPath:w},[3,9];case 8:throw Error("please set following: PlateauUIOptions.rootqjson");case 9:return(null===(a=p.pjsonPath)||void 0===a?void 0:a.includes("<<qjsonpass:"))&&(p.pjsonPath=p.pjsonPath.replace("<<qjsonpass:","<<qjson:").replace(".qjson","")),S=l.Render(p),null==(P=null===(u=this.SDKInstance)||void 0===u?void 0:u.getUXManager())||P.setTheme("default",null===(c=this.settingsWeb)||void 0===c?void 0:c.style),[4,S];case 10:return d.sent(),[2]}}))}))},e.prototype.handleIAMSettings=function(){var e,t,n,r,o,s,a,u,c,l;return p(this,void 0,void 0,(function(){var p,f,g,h,v,b,y,m,_,w,S;return d(this,(function(d){switch(d.label){case 0:return(p=this).PlateauUIOptions.iam?(f=p.PlateauUIOptions.iam,p.lpManager&&(f.iamV2=null===(e=p.appSettings)||void 0===e?void 0:e.oAuthSettings),p.lpManager?(h=f,[3,6]):[3,1]):[3,9];case 1:return f instanceof Promise?[4,f]:[3,3];case 2:return v=d.sent(),[3,5];case 3:return[4,p.LoadJS(f,"plateauUIIAMOptions",{importField:"*",required:!1})];case 4:v=d.sent(),d.label=5;case 5:h=v,d.label=6;case 6:return(g=h)&&(null===(t=g.iam)||void 0===t?void 0:t.active)||(null===(n=null==g?void 0:g.iamV2)||void 0===n?void 0:n.active)?(b=p,[4,Promise.all([__webpack_require__.e(4e3),__webpack_require__.e(8128)]).then(__webpack_require__.bind(__webpack_require__,38128))]):[3,9];case 7:if(b.PlateauIAM=new(d.sent().PlateauIAM),p.PlateauIAM.setOptions({iam:g.iam,iamV2:g.iamV2}),p.PlateauIAM.settingsIAM=g,y=!0,m=null!==(o=null===(r=p.settingsWeb)||void 0===r?void 0:r.settings.value.rootqjson)&&void 0!==o?o:null===(s=p.settingsWeb)||void 0===s?void 0:s.settings.value.rootqjsonpath,_=null!==(u=null===(a=p.PlateauIAM.settingsIAM.iamV2)||void 0===a?void 0:a.unsecurePages)&&void 0!==u?u:null===(l=null===(c=p.PlateauIAM.settingsIAM)||void 0===c?void 0:c.iam)||void 0===l?void 0:l.unsecurePages)for(w=0;w<_.length;w++)S=i.D.fixQueryString(),_[w]===(null!=S?S:m)&&(y=!1);return y?[4,p.PlateauIAM.login(p.PlateauUIOptions)]:[3,9];case 8:if(d.sent(),!p.PlateauIAM.isAuthenticated())throw Error("Authentication: Must logon");d.label=9;case 9:return[2]}}))}))},e.prototype.setSDKConfig=function(){var e,t,n,r;return p(this,void 0,void 0,(function(){var o,i,s,a;return d(this,(function(u){return(null===(e=(o=this).settingsWeb)||void 0===e?void 0:e.componentList)&&(i=o.LoadObject(o.settingsWeb.componentList,"plateauUIComponentOptions",{importField:"*",required:!1})),(null===(t=o.settingsWeb)||void 0===t?void 0:t.globalLocalization)&&(s=o.LoadObject(null===(n=o.settingsWeb)||void 0===n?void 0:n.globalLocalization,"",{importField:"*",required:!1}),o.LoadQjson(null===(r=o.settingsWeb)||void 0===r?void 0:r.globalLocalization)),a={},[2,Promise.all([i,s]).then((function(e){var t,n,r,i,s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e,2),u=s[0],c=s[1];return u&&(a.SiteSettings={compSettings:u}),c&&(a.GlobalLRDict=c.clrids),(null===(t=o.SDKSettings)||void 0===t?void 0:t.rootLangCode)&&(a.LRType=null===(n=o.SDKSettings)||void 0===n?void 0:n.rootLangCode),(null===(r=o.SDKSettings)||void 0===r?void 0:r.configValues)&&(a.configValues=null===(i=o.SDKSettings)||void 0===i?void 0:i.configValues),a}))]}))}))},e.prototype.setSettingsQJsons=function(e){var t,n,r,o,i,s,a,u,c=e.renderer;return p(this,void 0,void 0,(function(){var e,p,f,g,h,v,b,y;return d(this,(function(d){switch(d.label){case 0:return p=null===(t=(e=this).settingsWeb)||void 0===t?void 0:t.settings.value.pipelineqjson,f=null===(n=e.settingsWeb)||void 0===n?void 0:n.settings.value.alertqjson,g=null===(r=e.settingsWeb)||void 0===r?void 0:r.settings.value.loadingqjson,(h=(null===(o=e.settingsWeb)||void 0===o?void 0:o.pipeline)||{type:"path",value:(null==p?void 0:p.startsWith("/"))?p.substring(1):p,format:"qjson"})&&h.value?[4,e.LoadObject(h,"",{importField:"*",required:!1})]:[3,5];case 1:if(!(y=d.sent()))return[3,5];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,c.settingsQJsons.SetPipelineQjson(y)];case 3:case 4:return d.sent(),[3,5];case 5:return(v=(null===(i=e.settingsWeb)||void 0===i?void 0:i.alert)||{type:"path",value:(null==f?void 0:f.startsWith("/"))?f.substring(1):f,format:"qjson"})&&v.value?[4,e.LoadObject(v,"",{importField:"*",required:!1})]:[3,10];case 6:if(!(y=d.sent()))return[3,10];d.label=7;case 7:return d.trys.push([7,9,,10]),[4,c.settingsQJsons.SetAlertQjson(y)];case 8:case 9:return d.sent(),[3,10];case 10:return(b=(null===(s=e.settingsWeb)||void 0===s?void 0:s.loading)||{type:"path",value:(null==g?void 0:g.startsWith("/"))?g.substring(1):g,format:"qjson"})&&b.value?[4,e.LoadObject(b,"",{importField:"*",required:!1})]:[3,15];case 11:if(!(y=d.sent()))return[3,15];d.label=12;case 12:return d.trys.push([12,14,,15]),[4,c.settingsQJsons.SetLoadingQjson(y)];case 13:case 14:return d.sent(),[3,15];case 15:return(null===(a=e.SDKSettings)||void 0===a?void 0:a.domainModuleList)?[4,null===(u=e.SDKInstance)||void 0===u?void 0:u.LoadModuleCompLists(e.SDKSettings.domainModuleList).catch((function(e){l.Y.Log({logMessage:e,logType:l.h.Error})}))]:[3,17];case 16:d.sent(),d.label=17;case 17:return[2]}}))}))},e.prototype.LoadObject=function(e,n,r){return void 0===r&&(r={required:!0}),p(this,void 0,void 0,(function(){var o;return d(this,(function(i){switch(i.label){case 0:if(o=this,!e)return[2];if(r.parameters&&"path"!=e.type&&"js"!=e.type){if("object"!=e.type)throw new Error("Parameters can be used for 'path' and 'js' data types!");l.Y.Log({logMessage:"LoadObject with object type not supported with parameters.",logType:l.h.Warning})}return"qjson"!=e.format?[3,2]:[4,o.LoadQjson(e)];case 1:case 3:case 5:return[2,i.sent()];case 2:if("lottie"==e.format)throw new Error("Not implemented");return"path"!=e.type?[3,4]:[4,o.LoadJS(e.value,n,r)];case 4:return"object"==e.type?[2,e.value]:"js"!=e.type?[3,6]:[4,(0,t.importModuleBody)(e.value,(function(){}),r.importField,r.parameters)];case 6:return[2]}}))}))},e.prototype.LoadJS=function(e,n,r){return void 0===r&&(r={required:!0}),p(this,void 0,void 0,(function(){var o;return d(this,(function(i){switch(i.label){case 0:i.label=1;case 1:return i.trys.push([1,6,,7]),this.PlateauUIOptions.corsEnabled&&"string"==typeof e?[4,(0,t.importScript)(e,n,r.importField,r.parameters)]:[3,3];case 2:return[2,i.sent()];case 3:return o="string"==typeof e?e:new Request(e.url,{method:"GET",body:JSON.stringify(e.body),headers:e.headers}),[4,(0,t.importModule)(o,(function(){}),r.importField,r.parameters)];case 4:return[2,i.sent()];case 5:return[3,7];case 6:if(i.sent(),!r.required)return[2,void 0];throw new Error("couldn't load "+JSON.stringify(e));case 7:return[2]}}))}))},e.prototype.LoadQjson=function(e){return p(this,void 0,void 0,(function(){var t,n,s;return d(this,(function(a){switch(a.label){case 0:return t="","path"!=e.type?[3,2]:(n=i.D.fixLegacyPathFormat(e.value),[4,r.E.FetchModuleBody(n)]);case 1:t=a.sent().body,a.label=2;case 2:if("js"==e.type&&(t=e.value),!t)return[2,void 0];if(!(s=o.E.qJsonExtractor(t)))throw new Error("qJsonExtracted is undefined");return[2,s]}}))}))},e.prototype.configureLivePreview=function(e){return p(this,void 0,void 0,(function(){var t,n,r;return d(this,(function(o){switch(o.label){case 0:return(null==e?void 0:e.disableLP)?[2]:(t=this,[4,(n=new c).isItLivePreview()]);case 1:return o.sent()?(t.lpManager=n,[4,n.getLivePreviewSettings()]):[2];case 2:return r=o.sent(),l.Y.Log({logMessage:"settingsResponse: "+r}),r?(r.serviceWorker&&t.registerServiceWorker(),[2,r]):[2]}}))}))},e.prototype.registerServiceWorker=function(){return p(this,void 0,void 0,(function(){var e,t,n;return d(this,(function(r){switch(r.label){case 0:if(e=this,!("serviceWorker"in navigator))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,navigator.serviceWorker.register("./sw.js",{scope:"/qui-lp/"})];case 2:return(t=r.sent()).installing?l.Y.Log({logMessage:"Service worker installing"}):t.waiting?l.Y.Log({logMessage:"Service worker installed"}):t.active&&l.Y.Log({logMessage:"Service worker activated"}),[3,4];case 3:return n=r.sent(),l.Y.Log({logMessage:"Registration failed with "+n,logType:l.h.Error}),[3,4];case 4:return navigator.serviceWorker.onmessage=function(t){var n=t.data;e.onSWMessage(n)},[2]}}))}))},e.prototype.onSWMessage=function(e){return p(this,void 0,void 0,(function(){var t,n;return d(this,(function(r){switch(r.label){case 0:return[4,(t=this).lpManager.sendSwMessage(e)];case 1:return n=r.sent(),t.sendMessage(n),[2]}}))}))},e.prototype.sendMessage=function(e){setTimeout((function(){var t;null===(t=navigator.serviceWorker.controller)||void 0===t||t.postMessage(e)}),1e3)},e}();function h(t,n){return p(this,void 0,void 0,(function(){return d(this,(function(r){switch(r.label){case 0:return e?[2,e]:[4,(e=new g).init({PlateauUIOptions:t,environmentInfo:n})];case 1:return r.sent(),[2,e]}}))}))}function v(t){var n=t.mountPoint;if(!e)throw"websdk initiation went wrong.";return e.createRenderer({mountPoint:n})}function b(){e&&(e.destroy(),e=void 0)}})(),__webpack_exports__})()));